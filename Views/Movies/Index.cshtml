@model IEnumerable<MVCCourse2017.Models.Movie>

@{
    ViewBag.Title = "View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>View</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
@if (!Model.Any())
{
    <p>We don't have any Movie yet.</p>
}
else
{
<table class="table" id="tblM">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Genre.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DateAdded)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ReleaseDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.NumberInStock)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Genre.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateAdded)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ReleaseDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.NumberInStock)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
            @Html.ActionLink("Details", "Edit", new { id = item.Id }) |
            

            @Html.ActionLink("Delete", "Delete", new { id = item.Id },
            new { onclick = "return confirmBox();" }
       )



        </td>
    </tr>
}

</table>
}


@section scripts
    {
<script>

    function confirmBox()
    {
        debugger;
        bootbox.confirm(
            "Are you sure you wish to delete this Movie ?",
            function (result) {
                if (result) {
                    return true;
                }
                return false;
            });
    }

    </script>

     <script >
         $(document).ready(
        function () {
             //$("#tblM").DataTable();
         });
</script>
    }